<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
        <title>Weekend Vaerelser Skanderup</title>
        <link rel="icon" href="Images/Website icon.png">
    </head>
        <script>
            function previewFile() {
                const content = document.querySelector(".content");
                var [file] = document.querySelector("input[type=file]").files;
                const reader = new FileReader();

                reader.addEventListener("load", () => {
                    var res = reader.result;
                    var nameArray = [];
                    var delta = 2;
                    const splitArray = res.split(/(?:\r?\n|(?:;))/gim); // |(?:;)
                    splitArray.splice(0,4);
                    for (var i = delta; i < splitArray.length; i += delta) {
                        splitArray.splice(i,1);
                    }
                    for (var i = 0; i < splitArray.length; i += delta) {
                        var cacheArray = [splitArray[i],splitArray[i+1]];
                        nameArray.push(cacheArray.join(' '));
                    }
                    console.log(nameArray);
                    },
                    false,
                );

                if (file) {
                    reader.readAsText(file);
                }
            }
        </script>
       </head>
       <body>
            <input type="file" onchange="previewFile()">
       </body>
    </html>